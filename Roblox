if not game:IsLoaded() then
	repeat task.wait() until game:IsLoaded()
end

local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- Settings
_G.AutoCollect = false
local collectDistance = 10    -- ‡∏£‡∏∞‡∏¢‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö
local startDelay = 0          -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
local holdDelay = 6.7         -- ‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏∏‡∏î 2 ‡∏≠‡∏±‡∏ô
local mainFolder = workspace["\224\184\135\224\184\178\224\184\153\224\184\129\224\185\136\224\184\173\224\184\170\224\184\163\224\185\137\224\184\178\224\184\135"]

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏•‡∏∞ 2 ‡∏≠‡∏±‡∏ô
local function collectNearby()
	local count = 0
	for _, obj in pairs(mainFolder:GetChildren()) do
		local prompt = obj:FindFirstChild("Hold E")
		if prompt and prompt:IsA("ProximityPrompt") then
			local ok, pos = pcall(function() return prompt.Parent.Position end)
			if ok and (hrp.Position - pos).Magnitude <= collectDistance then
				fireproximityprompt(prompt)
				count = count + 1
				if count >= 2 then
					break -- ‡∏Å‡∏î‡πÅ‡∏Ñ‡πà 2 ‡∏≠‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö
				end
			end
		end
	end
	if count > 0 then
		task.wait(holdDelay) -- ‡∏£‡∏≠‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö 2 ‡∏≠‡∏±‡∏ô
	end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI
local ScreenGui = Instance.new("ScreenGui", playerGui)
ScreenGui.Name = "AutoCollectUI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 180, 0, 55)
Frame.Position = UDim2.new(0.5, -90, 0.9, 0)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BackgroundTransparency = 0.15
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 12)

local Button = Instance.new("TextButton", Frame)
Button.Size = UDim2.new(1, 0, 1, 0)
Button.Text = "üî¥ Auto Collect: OFF"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 16
Button.BackgroundTransparency = 1

-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î
Button.MouseButton1Click:Connect(function()
	_G.AutoCollect = not _G.AutoCollect
	if _G.AutoCollect then
		Button.Text = "üü¢ Auto Collect: ON"
		Button.TextColor3 = Color3.fromRGB(0, 255, 0)
	else
		Button.Text = "üî¥ Auto Collect: OFF"
		Button.TextColor3 = Color3.fromRGB(255, 255, 255)
	end
end)

-- ‡∏•‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
task.spawn(function()
	while true do
		if _G.AutoCollect then
			collectNearby()      -- ‡∏Å‡∏î‡∏ó‡∏µ‡∏•‡∏∞ 2 ‡∏≠‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏≠ holdDelay
			task.wait(0.5)       -- ‡πÄ‡∏ß‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
		else
			task.wait(0.5)
		end
	end
end)

-- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
game.StarterGui:SetCore("SendNotification", {
	Title = "Auto Collect Loaded ‚úÖ",
	Text = "‡∏ü‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á (So Hub)",
	Duration = 5
})
